
let projectName = sha256;

def memLoadDataIn : Register;

def reset : Instruction {
    reset();
}

def setAddr_H : Instruction {
    def rs1_ : rs1;
    setAddr(rs1_, 0);
}

def setAddr_W : Instruction {
    def rs1_ : rs1;
    setAddr(rs1_, 1);
}

def setAddr_m : Instruction {
    def rs1_ : rs1;
    setAddr(rs1_, 2);
}

def loadData : Instruction {
    def ready : local;
    def rd_ : rd;
    let ready = 0;
    while(ready == 0) {
        let dataOut = 0;
        let opOut = 36;
        let memAddrOut = 0;
        let ready = loadData(memLoadDataIn);
        if(opOut == 6) load memLoadDataIn <= <memAddrOut>;
    }
    let rd_ = dataOut;
}

def storeData : Instruction {
    def ready : local;
    def rd_ : rd;
    let ready = 0;
    while(ready == 0) {
        let dataOut = 0;
        let opOut = 36;
        let memAddrOut = 0;
        let ready = storeData();
        if(opOut == 7) store <memAddrOut> <= dataOut;
    }
    let rd_ = dataOut;
}

def computeHash : Instruction {
    def ready : local;
    def rd_ : rd;
    let ready = 0;
    while(ready == 0) {
        let dataOut = 0;
        let opOut = 36;
        let ready = computeHash();
    }
    let rd_ = dataOut;
}